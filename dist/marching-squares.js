!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("MarchingSquares",[],i):"object"==typeof exports?exports.MarchingSquares=i():t.MarchingSquares=i()}(self,(()=>(()=>{"use strict";var t={681:(t,i)=>{i.zz=void 0;Math.sqrt(3),Math.sqrt(3);const o=1/6,e=(Math.sqrt(5),Math.sqrt(5),t=>0|Math.floor(t)),s=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);i.zz=function(t=Math.random){const i=function(t){const i=new Uint8Array(512);for(let t=0;t<256;t++)i[t]=t;for(let o=0;o<255;o++){const e=o+~~(t()*(256-o)),s=i[o];i[o]=i[e],i[e]=s}for(let t=256;t<512;t++)i[t]=i[t-256];return i}(t),n=new Float64Array(i).map((t=>s[t%12*3])),r=new Float64Array(i).map((t=>s[t%12*3+1])),a=new Float64Array(i).map((t=>s[t%12*3+2]));return function(t,s,h){let c,u,l,d;const f=.3333333333333333*(t+s+h),p=e(t+f),g=e(s+f),w=e(h+f),v=(p+g+w)*o,y=t-(p-v),P=s-(g-v),m=h-(w-v);let x,b,z,q,C,S;y>=P?P>=m?(x=1,b=0,z=0,q=1,C=1,S=0):y>=m?(x=1,b=0,z=0,q=1,C=0,S=1):(x=0,b=0,z=1,q=1,C=0,S=1):P<m?(x=0,b=0,z=1,q=0,C=1,S=1):y<m?(x=0,b=1,z=0,q=0,C=1,S=1):(x=0,b=1,z=0,q=1,C=1,S=0);const L=y-x+o,M=P-b+o,k=m-z+o,N=y-q+2*o,A=P-C+2*o,j=m-S+2*o,F=y-1+.5,E=P-1+.5,O=m-1+.5,D=255&p,I=255&g,T=255&w;let B=.6-y*y-P*P-m*m;if(B<0)c=0;else{const t=D+i[I+i[T]];B*=B,c=B*B*(n[t]*y+r[t]*P+a[t]*m)}let R=.6-L*L-M*M-k*k;if(R<0)u=0;else{const t=D+x+i[I+b+i[T+z]];R*=R,u=R*R*(n[t]*L+r[t]*M+a[t]*k)}let U=.6-N*N-A*A-j*j;if(U<0)l=0;else{const t=D+q+i[I+C+i[T+S]];U*=U,l=U*U*(n[t]*N+r[t]*A+a[t]*j)}let W=.6-F*F-E*E-O*O;if(W<0)d=0;else{const t=D+1+i[I+1+i[T+1]];W*=W,d=W*W*(n[t]*F+r[t]*E+a[t]*O)}return 32*(c+u+l+d)}}}},i={};function o(e){var s=i[e];if(void 0!==s)return s.exports;var n=i[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.d=(t,i)=>{for(var e in i)o.o(i,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},o.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i);var e={};return(()=>{o.d(e,{default:()=>n});var t=function(t,i){this.x=t,this.y=i},i=o(681).zz,s=function(){function o(t,o,e){this.width=t,this.height=o,this.size=e,this.positions=[],this.horizontalNodeCount=this.width/this.size,this.verticalNodeCount=this.height/this.size,this.noise=i(),this.dt=0;for(var s=0;s<this.horizontalNodeCount;s++){for(var n=[],r=0;r<this.verticalNodeCount;r++)n[r]=0;this.positions.push(n)}}return o.prototype.draw=function(t){this.dt+=.03;for(var i=0;i<this.horizontalNodeCount;i++)for(var o=this.positions[i],e=0;e<this.verticalNodeCount;e++){var s=(this.noise(i/30,e/30,this.dt)+1)/2;o[e]=Math.round(s),this.drawDot(t,this.getPosition(i,e),s)}for(i=0;i<this.horizontalNodeCount-1;i++)for(e=0;e<this.verticalNodeCount-1;e++){var n=this.positions[i][e],r=this.positions[i][e+1],a=this.positions[i+1][e],h=this.positions[i+1][e+1];this.drawSquare(t,8*h+4*a+2*r+n,i,e)}},o.prototype.drawSquare=function(t,i,o,e){t.strokeStyle="black",t.lineWidth=2;var s=null,n=null;switch(i){case 1:case 14:s=this.getPosition(o+.5,e+0),n=this.getPosition(o+0,e+.5),this.drawLine(t,s,n);break;case 2:case 13:s=this.getPosition(o+0,e+.5),n=this.getPosition(o+.5,e+1),this.drawLine(t,s,n);break;case 3:case 12:s=this.getPosition(o+.5,e+0),n=this.getPosition(o+.5,e+1),this.drawLine(t,s,n);break;case 4:case 11:s=this.getPosition(o+1,e+.5),n=this.getPosition(o+.5,e+0),this.drawLine(t,s,n);break;case 5:case 10:s=this.getPosition(o+1,e+.5),n=this.getPosition(o+0,e+.5),this.drawLine(t,s,n);break;case 6:s=this.getPosition(o+0,e+.5),n=this.getPosition(o+.5,e+1),this.drawLine(t,s,n),s=this.getPosition(o+1,e+.5),n=this.getPosition(o+.5,e+0),this.drawLine(t,s,n);break;case 7:case 8:s=this.getPosition(o+1,e+.5),n=this.getPosition(o+.5,e+1),this.drawLine(t,s,n);break;case 9:s=this.getPosition(o+1,e+.5),n=this.getPosition(o+.5,e+1),this.drawLine(t,s,n),s=this.getPosition(o+0,e+.5),n=this.getPosition(o+.5,e+0),this.drawLine(t,s,n)}},o.prototype.getPosition=function(i,o){return new t(i*this.size,o*this.size)},o.prototype.drawDot=function(t,i,o){t.fillStyle=this.calcColor(o),t.beginPath(),t.arc(i.x,i.y,4,0,2*Math.PI,!0),t.fill()},o.prototype.drawLine=function(t,i,o){t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(o.x,o.y),t.stroke()},o.prototype.calcColor=function(t){return"hsl("+(-240*t+240)+",100%,50%)"},o}();const n=function(){function t(t){if(this.canvas=document.getElementById("marching-squares-canvas"),null==this.canvas)throw new Error("Could not find canvas.");this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.canvas.width=500,this.canvas.height=500,this.marchingSquare=new s(this.canvas.width,this.canvas.height,5)}return t.prototype.Start=function(){this.animate(0)},t.prototype.animate=function(t){var i=this;this.draw(),requestAnimationFrame((function(t){return i.animate(t)}))},t.prototype.draw=function(){this.ctx.fillStyle="#94d300",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.marchingSquare.draw(this.ctx)},t}()})(),e.default})()));