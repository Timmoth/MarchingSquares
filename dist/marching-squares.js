!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define("MarchingSquares",[],i):"object"==typeof exports?exports.MarchingSquares=i():t.MarchingSquares=i()}(self,(()=>(()=>{"use strict";var t={681:(t,i)=>{i.zz=void 0;Math.sqrt(3),Math.sqrt(3);const s=1/6,o=(Math.sqrt(5),Math.sqrt(5),t=>0|Math.floor(t)),e=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);i.zz=function(t=Math.random){const i=function(t){const i=new Uint8Array(512);for(let t=0;t<256;t++)i[t]=t;for(let s=0;s<255;s++){const o=s+~~(t()*(256-s)),e=i[s];i[s]=i[o],i[o]=e}for(let t=256;t<512;t++)i[t]=i[t-256];return i}(t),n=new Float64Array(i).map((t=>e[t%12*3])),a=new Float64Array(i).map((t=>e[t%12*3+1])),r=new Float64Array(i).map((t=>e[t%12*3+2]));return function(t,e,h){let c,u,d,l;const f=.3333333333333333*(t+e+h),p=o(t+f),g=o(e+f),w=o(h+f),v=(p+g+w)*s,y=t-(p-v),P=e-(g-v),m=h-(w-v);let b,x,z,q,L,M;y>=P?P>=m?(b=1,x=0,z=0,q=1,L=1,M=0):y>=m?(b=1,x=0,z=0,q=1,L=0,M=1):(b=0,x=0,z=1,q=1,L=0,M=1):P<m?(b=0,x=0,z=1,q=0,L=1,M=1):y<m?(b=0,x=1,z=0,q=0,L=1,M=1):(b=0,x=1,z=0,q=1,L=1,M=0);const S=y-b+s,k=P-x+s,C=m-z+s,N=y-q+2*s,A=P-L+2*s,j=m-M+2*s,F=y-1+.5,E=P-1+.5,O=m-1+.5,D=255&p,I=255&g,T=255&w;let B=.6-y*y-P*P-m*m;if(B<0)c=0;else{const t=D+i[I+i[T]];B*=B,c=B*B*(n[t]*y+a[t]*P+r[t]*m)}let R=.6-S*S-k*k-C*C;if(R<0)u=0;else{const t=D+b+i[I+x+i[T+z]];R*=R,u=R*R*(n[t]*S+a[t]*k+r[t]*C)}let U=.6-N*N-A*A-j*j;if(U<0)d=0;else{const t=D+q+i[I+L+i[T+M]];U*=U,d=U*U*(n[t]*N+a[t]*A+r[t]*j)}let G=.6-F*F-E*E-O*O;if(G<0)l=0;else{const t=D+1+i[I+1+i[T+1]];G*=G,l=G*G*(n[t]*F+a[t]*E+r[t]*O)}return 32*(c+u+d+l)}}}},i={};function s(o){var e=i[o];if(void 0!==e)return e.exports;var n=i[o]={exports:{}};return t[o](n,n.exports,s),n.exports}s.d=(t,i)=>{for(var o in i)s.o(i,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:i[o]})},s.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i);var o={};return(()=>{s.d(o,{default:()=>n});var t=function(t,i){this.x=t,this.y=i},i=s(681).zz,e=function(){function s(t,s,o){this.width=t,this.height=s,this.size=o,this.positions=[],this.horizontalNodeCount=this.width/this.size,this.verticalNodeCount=this.height/this.size,this.noise=i(),this.dt=0;for(var e=0;e<this.horizontalNodeCount;e++){for(var n=[],a=0;a<this.verticalNodeCount;a++)n[a]=0;this.positions.push(n)}}return s.prototype.draw=function(t){this.dt+=.03;for(var i=0;i<this.horizontalNodeCount;i++)for(var s=this.positions[i],o=0;o<this.verticalNodeCount;o++)s[o]=Math.round((this.noise(i/10,o/10,this.dt)+1)/2);for(i=0;i<this.horizontalNodeCount-1;i++)for(o=0;o<this.verticalNodeCount-1;o++){var e=this.positions[i][o],n=this.positions[i][o+1],a=this.positions[i+1][o],r=this.positions[i+1][o+1];this.drawDot(t,this.getPosition(i,o),1==this.positions[i][o]?"black":"white"),this.drawSquare(t,8*r+4*a+2*n+e,i,o)}},s.prototype.drawSquare=function(t,i,s,o){var e=null,n=null;switch(i){case 1:case 14:e=this.getPosition(s+.5,o+0),n=this.getPosition(s+0,o+.5),this.drawLine(t,e,n);break;case 2:case 13:e=this.getPosition(s+0,o+.5),n=this.getPosition(s+.5,o+1),this.drawLine(t,e,n);break;case 3:case 12:e=this.getPosition(s+.5,o+0),n=this.getPosition(s+.5,o+1),this.drawLine(t,e,n);break;case 4:case 11:e=this.getPosition(s+1,o+.5),n=this.getPosition(s+.5,o+0),this.drawLine(t,e,n);break;case 5:case 10:e=this.getPosition(s+1,o+.5),n=this.getPosition(s+0,o+.5),this.drawLine(t,e,n);break;case 6:e=this.getPosition(s+0,o+.5),n=this.getPosition(s+.5,o+1),this.drawLine(t,e,n),e=this.getPosition(s+1,o+.5),n=this.getPosition(s+.5,o+0),this.drawLine(t,e,n);break;case 7:case 8:e=this.getPosition(s+1,o+.5),n=this.getPosition(s+.5,o+1),this.drawLine(t,e,n);break;case 9:e=this.getPosition(s+1,o+.5),n=this.getPosition(s+.5,o+1),this.drawLine(t,e,n),e=this.getPosition(s+0,o+.5),n=this.getPosition(s+.5,o+0),this.drawLine(t,e,n)}},s.prototype.getPosition=function(i,s){return new t(i*this.size,s*this.size)},s.prototype.drawDot=function(t,i,s){void 0===s&&(s="black"),s&&(t.fillStyle=s),t.beginPath(),t.arc(i.x,i.y,1,0,2*Math.PI,!0),t.fill()},s.prototype.drawLine=function(t,i,s){t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(s.x,s.y),t.stroke(),t.fill()},s}();const n=function(){function t(t){if(this.canvas=document.getElementById("marching-squares-canvas"),null==this.canvas)throw new Error("Could not find canvas.");this.ctx=this.canvas.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.canvas.width=500,this.canvas.height=500,this.marchingSquare=new e(this.canvas.width,this.canvas.height,5)}return t.prototype.Start=function(){this.animate(0)},t.prototype.animate=function(t){var i=this;this.draw(),requestAnimationFrame((function(t){return i.animate(t)}))},t.prototype.draw=function(){this.ctx.fillStyle="#94d300",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.marchingSquare.draw(this.ctx)},t}()})(),o.default})()));